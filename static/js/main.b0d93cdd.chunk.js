(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,function(e,t,a){e.exports={question:"Image_question__3d25R",disabled:"Image_disabled__2wXr4",icon:"Image_icon__179cO",incorrect:"Image_incorrect__3jtHM",correct:"Image_correct__3fGBX"}},,,function(e,t,a){e.exports=a.p+"static/media/aquarium.8cd02fa3.ogg"},function(e,t,a){e.exports=a.p+"static/media/donkeys.4aa6353f.ogg"},function(e,t,a){e.exports=a.p+"static/media/elephant.c1fac213.ogg"},function(e,t,a){e.exports=a.p+"static/media/kangaroos.ec054a23.ogg"},function(e,t,a){e.exports=a.p+"static/media/lion.abd7508a.ogg"},function(e,t,a){e.exports=a.p+"static/media/roosters.85c76d99.ogg"},function(e,t,a){e.exports=a.p+"static/media/swan.02f91cb6.ogg"},function(e,t,a){e.exports=a.p+"static/media/turtles.dc0a018a.ogg"},function(e,t,a){e.exports={container:"Container_container__1yayG"}},,function(e,t,a){e.exports={title:"Escaped_title__3LqWj"}},function(e,t,a){e.exports={button:"Button_button__3qjTp"}},function(e,t,a){e.exports={wrapper:"Home_wrapper__26xw4"}},function(e,t,a){e.exports=a.p+"static/media/aquarium.1938208e.jpg"},function(e,t,a){e.exports=a.p+"static/media/aviary.704c8b74.jpg"},function(e,t,a){e.exports=a.p+"static/media/cuckoo.af2a7bb7.jpg"},function(e,t,a){e.exports=a.p+"static/media/donkeys.3c901228.jpg"},function(e,t,a){e.exports=a.p+"static/media/elephant.02b60a00.jpg"},function(e,t,a){e.exports=a.p+"static/media/fossils.e576866d.jpg"},function(e,t,a){e.exports=a.p+"static/media/kangaroos.17712ec0.jpg"},function(e,t,a){e.exports=a.p+"static/media/lion.555c2010.jpg"},function(e,t,a){e.exports=a.p+"static/media/longEars.1adcdc5e.jpg"},function(e,t,a){e.exports=a.p+"static/media/pianists.967eccb1.jpg"},function(e,t,a){e.exports=a.p+"static/media/roosters.055075d1.jpg"},function(e,t,a){e.exports=a.p+"static/media/swan.efc46a46.jpg"},function(e,t,a){e.exports=a.p+"static/media/turtles.5ff83742.jpg"},function(e,t,a){e.exports={form:"Form_form__2ZUal"}},function(e,t,a){e.exports={textInput:"TextInput_textInput__3ySi2"}},function(e,t,a){e.exports={wrapper:"Password_wrapper__2eh8F"}},function(e,t,a){e.exports={external:"ExternalLink_external__1zNUq"}},function(e,t,a){e.exports={container:"License_container__Qt5cJ"}},function(e,t,a){e.exports={container:"ProgressBar_container__3pRpH"}},function(e,t,a){e.exports={grid:"Questions_grid__26B9H"}},,function(e,t,a){e.exports=a(63)},,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),s=(a(49),a(1)),i=a(2),u=function(e,t){switch(t.type){case"SET_ASLEEP":return Object(i.a)({},e,{asleep:t.payload});case"SET_AWAKE":return Object(i.a)({},e,{awake:t.payload});case"SET_STARTED":return Object(i.a)({},e,{started:t.payload});case"SET_PASSWORD":return Object(i.a)({},e,{password:t.payload});case"SET_INDEX":return Object(i.a)({},e,{index:t.payload});case"SET_ANSWERS":return Object(i.a)({},e,{answers:t.payload});case"SET_QUESTIONS":return Object(i.a)({},e,{questions:t.payload});case"SET_AUDIO":return Object(i.a)({},e,{audio:t.payload});case"SET_PLAYING":return Object(i.a)({},e,{playing:t.payload});case"SET_PROGRESS":return Object(i.a)({},e,{progress:t.payload});case"SET_ESCAPED":return Object(i.a)({},e,{escaped:t.payload});default:return e}},l=a(6),p=a.n(l),d=a(7),m=a.n(d),f=a(8),E=a.n(f),_=a(9),y=a.n(_),g=a(10),b=a.n(g),h=a(11),S=a.n(h),w=a(12),x=a.n(w),v=a(13),j=a.n(v),O={aquarium:p.a,donkeys:m.a,elephant:E.a,kangaroos:y.a,lion:b.a,roosters:S.a,swan:x.a,turtles:j.a},k=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[a],e[a]=n}return e},T=function(e,t){for(var a=[],n=[],r=function(r){var c=k(Object.keys(t).filter(function(t){return t!==e[r]&&!a.includes(t)})).slice(0,3);n.push(k(c.concat(e[r]))),a.push(e[r])},c=0;c<e.length;c++)r(c);return n},N={asleep:!1,awake:!1,started:!1,password:"",index:0,answers:k(Object.keys(O)),questions:[],audio:"",playing:!1,progress:0,escaped:!1},A=Object(n.createContext)(),I=function(e){var t=e.children,a=Object(n.useReducer)(u,N),c=Object(s.a)(a,2),o=c[0],i=c[1];return r.a.createElement(A.Provider,{value:[o,i]},t)},C=a(14),D=a.n(C);function P(e){return r.a.createElement("div",{className:"".concat(D.a.container," animate__animated ").concat(e.animation||""," animate__faster")},e.children)}var R=a(15),q=a.n(R),F=a(16),L=a.n(F);function U(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:L.a.title},"you escaped!"),r.a.createElement(q.a,{gravity:.02}))}var W=a(17),G=a.n(W);function B(e){return r.a.createElement("input",{className:G.a.button,type:e.type,value:e.value||"Submit",onClick:e.onClick},e.children)}var Q=a(18),X=a.n(Q);function H(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:X.a.wrapper},'Press the "Sleep" button below to hide the display. The screen will appear to be off and students will have to press the spacebar to wake it up. Make sure to press F11 for full screen.'),r.a.createElement(B,{type:"submit",value:"Sleep",onClick:e.sleep}))}var M=a(19),z=a.n(M),J=a(20),Y=a.n(J),K=a(21),V=a.n(K),Z=a(22),$=a.n(Z),ee=a(23),te=a.n(ee),ae=a(24),ne=a.n(ae),re=a(25),ce=a.n(re),oe=a(26),se=a.n(oe),ie=a(27),ue=a.n(ie),le=a(28),pe=a.n(le),de=a(29),me=a.n(de),fe=a(30),Ee=a.n(fe),_e=a(31),ye=a.n(_e),ge={aquarium:z.a,aviary:Y.a,cuckoo:V.a,donkeys:$.a,elephant:te.a,fossils:ne.a,kangaroos:ce.a,lion:se.a,longEars:ue.a,pianists:pe.a,roosters:me.a,swan:Ee.a,turtles:ye.a},be=a(32),he=a.n(be);function Se(e){return r.a.createElement("form",{className:he.a.form,onSubmit:e.onSubmit},e.children)}var we=a(33),xe=a.n(we);function ve(e){return r.a.createElement("input",{className:xe.a.textInput,type:e.type,placeholder:e.placeholder,value:e.value,onChange:e.onChange,autoFocus:e.autoFocus},e.children)}var je=a(34),Oe=a.n(je);function ke(e){var t=Object(n.useContext)(A),a=Object(s.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)(function(){o({type:"SET_QUESTIONS",payload:T(c.answers,ge)}),o({type:"SET_AUDIO",payload:new Audio(O[c.answers[c.index]])})},[o,c.answers,c.index]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Escape from the Carnival of the Animals!"),r.a.createElement("p",{className:Oe.a.wrapper},"For the final puzzle you will have to correctly match sheet music excerpts to the corresponding audio. There are eight questions and you must get five correct to escape. You get two guesses per question."),r.a.createElement(Se,{onSubmit:e.checkPassword},r.a.createElement(ve,{type:"text",placeholder:"enter the password",value:c.password,onChange:function(e){return o({type:"SET_PASSWORD",payload:e.target.value})},autoFocus:!0}),r.a.createElement(B,{type:"submit"})))}var Te=a(39);function Ne(e){var t=e.audio,a=e.playing;return Object(n.useEffect)(function(){a?t.play():t.pause()},[a,t]),r.a.createElement("span",{className:e.disabled?"":"hvr-icon-shrink"},r.a.createElement("i",{className:"far fa-".concat(a?"pause":"play","-circle fa-5x hvr-icon"),onClick:function(t){return e.disabled?t.preventDefault():e.toggle()}}))}var Ae=a(3),Ie=a.n(Ae);function Ce(e){return r.a.createElement("div",{className:"".concat(""!==e.status||e.disabled?"":"hvr-shrink"," ").concat(Ie.a.question)},r.a.createElement("i",{className:"".concat(Ie.a.icon," ").concat(function(e){switch(e){case"incorrect":return Ie.a.incorrect;case"correct":return Ie.a.correct;default:return""}}(e.status)," far ").concat(function(e){switch(e){case"incorrect":return"fa-times-circle";case"correct":return"fa-check-circle";default:return""}}(e.status)," ").concat(e.status?"fade-in":"")}),r.a.createElement("img",{className:e.status?Ie.a.disabled:"",src:e.src,alt:e.alt,id:e.id,onClick:function(t){return""!==e.status||e.disabled?t.preventDefault():e.checkAnswer(t)}}))}var De=a(35),Pe=a.n(De);function Re(e){return r.a.createElement("a",{className:Pe.a.external,href:e.link,target:"_blank",rel:"noopener noreferrer"},e.children)}var qe=a(36),Fe=a.n(qe);function Le(){return r.a.createElement("div",{className:Fe.a.container},r.a.createElement(Re,{link:"https://www.ibiblio.org/pandora/vorbis/2_pianos/pan116e/index.html"},r.a.createElement("em",null,"The Carnival of the Animals")),"\xa0by Neil and Nancy O'Doan and the Seattle Youth Symphony conducted by Vilem Sokol is licensed under\xa0",r.a.createElement(Re,{link:"https://creativecommons.org/licenses/by-sa/2.0/legalcode"},"CC SA 2.0"))}var Ue=a(37),We=a.n(Ue);function Ge(e){return r.a.createElement("div",{className:We.a.container},r.a.createElement("span",{style:{width:"".concat(20*e.width,"%")}}))}var Be=a(38),Qe=a.n(Be);function Xe(e){return r.a.createElement("div",{className:Qe.a.grid},e.children)}function He(){var e=Object(n.useContext)(A),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(s.a)(o,2),u=i[0],l=i[1],p=Object(n.useState)([]),d=Object(s.a)(p,2),m=d[0],f=d[1],E=Object(n.useState)(!1),_=Object(s.a)(E,2),y=_[0],g=_[1],b=Object(n.useState)(!1),h=Object(s.a)(b,2),S=h[0],w=h[1],x=Object(n.useCallback)(function(){var e=a.index+1;c({type:"SET_INDEX",payload:e}),c({type:"SET_AUDIO",payload:new Audio(O[a.answers[e]])}),f([]),g(!1),w(!1)},[c,a.answers,a.index]);a.audio.onended=function(){return l(!1)};var v=function(e){var t=e.target.id;t===a.answers[a.index]?(w(!0),a.audio.paused||(a.audio.pause(),l(!u)),g(!0),4===a.progress?c({type:"SET_ESCAPED",payload:!0}):setTimeout(function(){!function(){var e=a.progress+1;c({type:"SET_PROGRESS",payload:e})}(),x()},1e3)):f(function(e){return[].concat(Object(Te.a)(e),[t])})};Object(n.useEffect)(function(){2===m.length&&(w(!0),a.audio.paused||(a.audio.pause(),l(!u)),7===a.index||a.answers.length-a.index+a.progress-5<1?setTimeout(function(){var e=k(Object.keys(O));c({type:"SET_INDEX",payload:0}),c({type:"SET_ANSWERS",payload:e}),c({type:"SET_QUESTIONS",payload:T(e,ge)}),c({type:"SET_PROGRESS",payload:0})},1e3):setTimeout(function(){x()},1e3))},[c,m,u,a.answers,a.audio,a.index,a.progress,x]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge,{width:a.progress}),r.a.createElement(Ne,{audio:a.audio,playing:u,toggle:function(){return l(!u)},disabled:S}),r.a.createElement(Xe,null,a.questions[a.index].map(function(e,t){return r.a.createElement(Ce,{key:t,id:e,src:ge[e],alt:e,checkAnswer:v,status:m.includes(e)?"incorrect":y&&e===a.answers[a.index]?"correct":"",disabled:S})})),r.a.createElement(Le,null))}function Me(){var e=Object(n.useState)("animate__fadeIn"),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(A),i=Object(s.a)(o,2),u=i[0],l=i[1];Object(n.useEffect)(function(){u.asleep&&window.addEventListener("keyup",function(e){" "===e.key&&(e.preventDefault(),l({type:"SET_ASLEEP",payload:!1}),l({type:"SET_AWAKE",payload:!0}),c("animate__fadeIn"))})},[u,l]);return r.a.createElement(P,{animation:a},!u.awake&&r.a.createElement(H,{sleep:function(){c("animate__fadeOut"),setTimeout(function(){l({type:"SET_ASLEEP",payload:!0})},500)}}),u.awake&&!u.started&&r.a.createElement(ke,{checkPassword:function(e){e.preventDefault();var t=u.password.toLowerCase().trim();"saint-saens"===t||"saint saens"===t||"saintsaens"===t?(c("animate__fadeOut"),setTimeout(function(){l({type:"SET_STARTED",payload:!0}),c("animate__fadeIn")},1e3)):""===t?window.alert("come on, you have to at least try!"):window.alert("sorry, that's incorrect; there might a clue lying around somewhere...")}}),u.started&&!u.escaped&&r.a.createElement(He,null),u.escaped&&r.a.createElement(U,null))}var ze=function(){return r.a.createElement(I,null,r.a.createElement(Me,null))};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(ze,null))}],[[40,2,1]]]);
//# sourceMappingURL=main.b0d93cdd.chunk.js.map